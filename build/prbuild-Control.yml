name: $(date:yyyy-MM-dd)$(rev:.rr)
trigger: none
pr: none

jobs:
- job: ValidateReleaseInfo
  pool:
    vmImage: 'windows-latest'
  steps:
  - task: NuGetCommand@2
    displayName: 'NuGet - Octokit install'
    inputs:
      command: custom
      arguments: 'install -version $(OctokitVersion) OctoKit -source "https://api.nuget.org/v3/index.json"'
    
  - task: PowerShell@2
    displayName: 'Validate release_info.json Files'
    inputs:
      targetType: "filePath"
      filePath: tools\scripts\ValidateReleaseInfo.ps1
      arguments: '$(Build.Repository.LocalPath)'

